[toc]
# 存储类型
## 关系型存储 MYSQL ORACLE
## 内存高速存储【Cache】 Redis Memcahe
## 对象存储TOS 【多媒体上传下载】
## 块存储
## 大数据存储
## KV 存储
## 文件存储

# 存储与存储引擎
# 一致性
## 事物一致性【ACID】
## 数据一致性
https://zhuanlan.zhihu.com/p/67949045

复制是导致出现数据一致性问题的唯一原因
一台数据库处理所有的写入和读取请求，就一定不存在数据一致性的问题
## 强一致性 【同步复制】与 弱一致性 【异步复制】
 更新头像 需要从库确认 对所有人可见 则是强一致性
 不需要从库确认 则是弱一致性
## 最终一致性
此异步从库落后，他可能会看到过时的信息。等待一段时间，从库最终会赶上并与主库保持一致。这称为最终一致性。
## 读写一致性
比如自己回复需要立马可见 别人会延迟 【主库读自己 从库读他人】
## 单调读
多次刷新结果一致

单调读比强一致性更弱，比最终一致性更强。
### 因果一致性 【帖子盖楼】
# cache 基本理论
## cache写入策略
失效缓存后更新DB 并发读写脏数据持续存在
### Cache Aside
更新DB成功后失效缓存，有短暂的不一致，写会阻塞，持久不一致比较难
### write/read through 缓存代理了更新DB
更新/查询 缓存更新DB

### Write Behind
缓存被替换出去更新DB 非强一致性，掉电无法恢复
# 数据量选择
百万级的数据，无论侧重OLTP还是OLAP，当然就是MySql了。过亿级的数据，侧重OLTP可以继续Mysql，侧重OLAP，就要分场景考虑了。
1. 实时计算场景：强调实时性，常用于实时性要求较高的地方，可以选择Storm;
1. 批处理计算场景：强调批处理，常用于数据挖掘、分析，可以选择Hadoop;
1. 实时查询场景：强调查询实时响应，常用于把DB里的数据转化索引文件，通过搜索引擎来查询，可以选择solr/elasticsearch;
1. 企业级ODS/EDW/数据集市场景：强调基于关系性数据库的大数据实时分析，常用于业务数据集成，可以选择Greenplum；

# OLAP和OLTP
OLTP与OLAP的介绍

    数据处理大致可以分成两大类：联机事务处理OLTP（on-line transaction processing）、联机分析处理OLAP（On-Line Analytical Processing）。OLTP是传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易。OLAP是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。 

OLTP 系统强调数据库内存效率，强调内存各种指标的命令率，强调绑定变量，强调并发操作；
OLAP 系统则强调数据分析，强调SQL执行市场，强调磁盘I/O，强调分区等。
![image](564226322CFF40C4A8FF87CDAD50C9CA)
