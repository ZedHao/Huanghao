操作系统复用计算机硬件资源，同时还提供了强隔离性
# 操作系统隔离性（isolation）
单个命令执行 panic后不影响其他的执行
## 协同调度（Cooperative Scheduling）
1. 每个程序都有机会执行 不会出现单个命令死循环
2. 内存不能共享， 会相互覆盖
3. multiplexing和内存隔离
4. cpu-进程-应用程序
## 内存隔离
应用程序不能直接访问物理内存
应用程序不能直接访问file
# 操作系统防御性（Defensive）
## user/kernel mode
## page table或者虚拟内存（Virtual Memory）
# 宏内核 vs 微内核 （Monolithic Kernel vs Micro Kernel）
#  Meltdown
## 简介
- 当今操作系统的核心安全特性之一是内存隔离
- 内核和用户地址空间的隔离通常由处理器控制寄存器中的一个bit实现（该bit被称为supervisor bit，标识当前处理器处于的模式）
- 有了这种硬件特性的支持，操作系统可以将内核地址空间映射到每个进程
- Meltdown并不利用任何的软件的漏洞，也就是说它对任何一种操作系统都是有效的
- Meltdown攻击力度非常很大，其根本原因是利用了乱序执行的副作用（side effect）
- 在乱序执行下，被攻击的CPU可以运行未授权的进程从一个需要特权访问的地址上读出数据并加载到一个临时的寄存器中
- 我们可以观察乱序执行对cache的影响，从而根据这些cache提供的侧信道信息来发起攻击
## 乱序执行（Out-of-order execution）
乱序执行是一种优化技术，通过该技术可以尽最大可能的利用CPU core中的执行单元。和顺序执行的CPU不同，
支持乱序执行的CPU可以不按照program order来执行代码，只要指令执行的资源是OK的（没有被占用），
那么就进入执行单元执行。如果当前指令涉及的执行单元被占用了，那么其他指令可以提前运行（如果该指令涉及的执行单元是空闲的话）。
因此，在乱序执行下，只要结果符合体系结构定义，指令可以并行运行
## 缓存攻击（Cache Attacks）
   缓存侧信道攻击（Cache side-channel attack）是一种利用缓存引入的时间差异而进行攻击的方法，在访问memory的时候，已经被cache的数据访问会非常快，而没有被cache的数据访问比较慢，缓存侧信道攻击就是利用了这个时间差来偷取数据的。
