# why 多线程
## 多线程提速 而且程序接受变简单
# 线程包含三部分
- 程序计数器（Program Counter），它表示当前线程执行指令的位置。
- 保存变量的寄存器。
- 程序的Stack（注，详见5.5）。通常来说每个线程都有属于自己的Stack
# 多线程并行的两个策略
- 在多核处理器上使用多个CPU 一个cpu对应一个thread 
- 一个cpu对应多个thread 多线程调度
## 多线程需要注意得点
- 多线程的锁
# xv6的多线程
- 内核线程共享内存
- 用户进程拥有独立空间，独立线程控制指令代码执行 用户线程不共享内存
# 线程系统的难点
## 实现线程切换
## 切换线程需要保存恢复线程状态 
## 运算密集型线程
- 密集型长时间计算结果不愿意出让CPU
 定时器中断/时钟 切换用户态到内核台 交给 线程调度器 
#抢占式调度 pre-emptive scheduling 定时器中断将CPU控制权给到内核，内核再自愿的出让CPU
- 是循环(RR)，优先级，SRTF(最短的剩余时间优先)。
## OS 区分几类线程
    RUNNING，线程当前正在某个CPU上运行
    RUNABLE，线程还没有在某个CPU上运行，但是一旦有空闲的CPU就可以运行
    SLEEPING，这节课我们不会介绍，下节课会重点介绍
### 处理RUNNING 线程    